<!DOCTYPE html>
<html lang="z">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>Bootstrap表单验证 | sinnamm</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="来一起排列字母，改变世界呀">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Bootstrap表单验证 | sinnamm">
    <meta name="twitter:description" content="来一起排列字母，改变世界呀">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Bootstrap表单验证 | sinnamm">
    <meta property="og:description" content="来一起排列字母，改变世界呀">

    
    <meta name="author" content="sinnamm">
    
    <link rel="stylesheet" href="/css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="/images/avatar-small.png">
    

    <meta name="generator" content="hexo"/>
    
    <link rel="alternate" type="application/rss+xml" title="sinnamm" href="/atom.xml">
    

    <link rel="canonical" href="http://wmmmm.github.io/2017/09/08/Bootstrap表单验证/"/>

                 
</head>

<body class="home-template no-js">
    <script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 sinnamm 的主页"><img src="/images/avatar.jpg" width="80" alt="sinnamm logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for sinnamm">sinnamm</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">简单.美好</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">来一起排列字母，改变世界呀</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">myBlog</a></li>
            
              <li class="navigation__item"><a href="/">主页</a></li>
            
              <li class="navigation__item"><a href="/categories/blog">技术栈</a></li>
            
              <li class="navigation__item"><a href="/categories/essay">随笔堆</a></li>
            
              <li class="navigation__item"><a href="/aboutme">关于我</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  
  <li class="navigation__item">
    <a href="http://weibo.com/5602162089/profile?topnav=1&amp;wvr=6" title="我的微博" target="_blank">
      <i class='social fa fa-weibo'></i>
      <span class="label">Weibo</span>
    </a>
  </li> 


  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/Wmmmm" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  <li class="navigation__item">
    <a href="https://www.facebook.com/mei.wang.56027" title="上Facebook找我" target="_blank">
      <i class='social fa fa-facebook'></i>
      <span class="label">Facebook</span>
    </a>
  </li>

  
<!-- Twitter -->

  

  <li class="navigation__item">
    <a href="/atom.xml" title="RSS" target="_blank">
      <i class='social fa fa-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-purple"></div>
  </div> 
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2017-09-07T16:00:00.000Z" class="post-list__meta--date date">2017-09-08</time> &#8226; <span class="post-meta__tags tags">于 
  <a class="tag-link" href="/tags/bootstrap/">bootstrap</a>
 </span>
      <span class="page-pv">
       阅读 <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">Bootstrap表单验证</h1>
  </header>

  <section class="post">
    <h2 id="Bootstrap表单验证——bootstrapvalidator"><a href="#Bootstrap表单验证——bootstrapvalidator" class="headerlink" title="Bootstrap表单验证——bootstrapvalidator"></a>Bootstrap表单验证——bootstrapvalidator</h2><pre><code>// 验证表单
function validateForm(){

$(&quot;form&quot;).bootstrapValidator({
    message: &apos;This value is not valid&apos;,
        //设置提示图标
    feedbackIcons: {
        valid: &apos;glyphicon glyphicon-ok&apos;,
        invalid: &apos;glyphicon glyphicon-remove&apos;,
        validating: &apos;glyphicon glyphicon-refresh&apos;
    },
    fields:{
        username:{
            message:&apos;用户名格式不正确&apos;,
            validators:{
                notEmpty:{
                message:&apos;用户名不能为空&apos;
                },
                stringLength:{
                    min:6,
                    max:30,
                    message:&apos;用户名长度必须在6-30之间&apos;
                },
                regexp:{
                regexp:/^[a-zA-Z0-9_\.]+$/,
                    message:&apos;用户名只能由字母、数字、点和下划线组成&apos;
                },
                threshold:6,//有6个字符以上才发送验证
remote:{
//ajax验证，验证用户名是否已经存在,默认提交当前input vlue
                    url:&apos;UserController&apos;,
                    message:&apos;用户名已被注册&apos;,
                delay:2000,//每输入一个字符就验证服务器压力大，设置为每两秒发送一次验证
                    type:&apos;post&apos;,
                    data:function(validator){//自定义提交数据
                        var username = $(&quot;input[name=&apos;username&apos;]&quot;).val();
                        return{
                            &quot;username&quot;:username,
                            &quot;action&quot;:&quot;checkUserName&quot;
                        };
                        }
                }
            }
        },
        password2:{
        validators:{
                notEmpty:{
                    message:&quot;确认密码不能为空&quot;
                },
                stringLength:{
                    min:6,
                    max:30,
                    message:&quot;密码长度必须在6-30之间&quot;
                },
                identical:{//验证相同
                    field:&apos;password&apos;,
                    message:&apos;两次密码不一致&apos;
                },
                different:{
                    field:&apos;username&apos;,
                    message:&apos;密码和用户名不能一致&apos;
                }
                regexp:{
                    regexp:/^[a-zA-Z0-9_\.]+$/,
                    message:&apos;密码只能由字母、数字、点和下划线组成&apos;
                }
            }
        },
        email : {
            validators : {
                notEmpty : {
                    message : &quot;邮箱地址不能为空&quot;
                },
                emailAddress : {
                    message : &quot;邮箱地址格式错误&quot;
                },

            }
        }
    }

});
}
</code></pre><h3 id="服务器端检验用户名是否存在"><a href="#服务器端检验用户名是否存在" class="headerlink" title="服务器端检验用户名是否存在"></a>服务器端检验用户名是否存在</h3><pre><code>public void checkUserName(HttpServletRequest request, HttpServletResponse response) throws IOException
{
    boolean result =true;
    String username = request.getParameter(&quot;username&quot;);
    List&lt;String&gt; usernames = userService.getUserNames();
    if (usernames.contains(username)) {
        result=false;
    }
    PrintWriter out = response.getWriter();
    JSONObject jsonObject = new JSONObject();
    jsonObject.put(&quot;valid&quot;,result);
    out.println(jsonObject.toString());
    out.flush();
    out.close();

}
</code></pre><h3 id="提交表单"><a href="#提交表单" class="headerlink" title="提交表单"></a>提交表单</h3><pre><code> function register() {
        var bootstrapValidator = $(&quot;#registerform&quot;).data(&apos;bootstrapValidator&apos;);
        bootstrapValidator.validate();

    // 获取表单数据省略
    ........
    //将数据写成json格式
    var data = {&quot;action&quot; : &quot;register&quot;,
            &quot;username&quot;: username,
            &quot;password&quot;: password,
            &quot;realname&quot;: realname,
            &quot;sex&quot;: sexArray.toString(),
            &quot;hobbys&quot;: hobbysArray.toString(),
            &quot;birthday&quot;: birthday,
            &quot;city&quot;: city,
            &quot;email&quot;: email,
            &quot;qq&quot;: qq
            };
    //判断表单验证是否成功
    if(bootstrapValidator.isValid())
    {    
    //采用异步注册
        $.ajax({
            url :&quot;UserController&quot;, 
            type : &quot;POST&quot;,
            async : &quot;true&quot;,
            data : data,
            dataType : &quot;json&quot;,
            success : function(data) {
                if (data.res == 1){
                    alert(&quot;注册成功&quot;);
                    window.location.replace(&quot;index.jsp&quot;);
                }
                else {
                    alert(&quot;注册失败&quot;);
                    $(&quot;.text-warning&quot;).text(data.info);
                }
            }
        });
    }else {
        return;
    }

}
</code></pre>
  </section>

</article>

<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">最近的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/2017/09/16/Mybatis基础——xml映射配置文件/" title="Mybatis基础——xml映射配置文件">Mybatis基础——xml映射配置文件</a></h2>
                <p class="excerpt">
                
                1. 参数处理1.1 一个或多个参数的获取
传单个参数：mybatis不会做处理，{}里面可以随便写   #{参数名} 获得参数值
多个参数:多个参数会被封装成一个map，key:param1…paramN; value传入的参数，而#{}就是从map中获取指定key的值。
方式一：直接使用arg0
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2017-09-15T16:00:00.000Z" class="post-list__meta--date date">2017-09-16</time> &#8226; <span class="post-list__meta--tags tags">于 
  <a class="tag-link" href="/tags/mybatis/">mybatis</a>
</span><a class="btn-border-small" href="/2017/09/16/Mybatis基础——xml映射配置文件/">继续阅读</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">更早的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/2017/09/08/String和sql.Date、util.Date、Timestamp之间的转换/" title="String和sql.Date、util.Date、Timestamp之间的转换">String和sql.Date、util.Date、Timestamp之间的转换</a></h2>
                <p class="excerpt">
                
                1. String&amp;lt;-&amp;gt;sql.Date###String-&amp;gt;sql.Date
String dateStr = &amp;quot;2017-09-09&amp;quot;;
DateFormat dFormat =  new SimpleDateFormat(&amp;quot;yyyy-mm-dd&amp;
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2017-09-07T16:00:00.000Z" class="post-list__meta--date date">2017-09-08</time> &#8226; <span class="post-list__meta--tags tags">于 
  <a class="tag-link" href="/tags/java/">java</a>
</span><a class="btn-border-small" href="/2017/09/08/String和sql.Date、util.Date、Timestamp之间的转换/">继续阅读</a></div>
                       
            </div>
        
     
   
   
  
</section>

  
<section class="post-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = 'Wmmmm'; 
      
  var disqus_identifier = '/2017/09/08/Bootstrap表单验证/';
  var disqus_title = 'Bootstrap表单验证';
  var disqus_url = 'http://wmmmm.github.io/2017/09/08/Bootstrap表单验证/';
  

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          //dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
          dsq.src = 'https://a.disquscdn.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


            <footer class="footer">
    <span class="footer__copyright">
        &copy; 2017 sinnamm - 本站点采用 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
       
    </span>
    <span class="footer__copyright">
             - 基于 <a href="http://hexo.io">Hexo</a> 搭建，使用 <a href="https://github.com/monniya/hexo-theme-new-vno ">new-vno</a> 主题，由<a href="https://monniya.com ">@Monniya</a> 修改自 <a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">Vno</a>, 原创出自<a href="http://github.com/onevcat/vno" target="_blank">onevcat</a>
         </span>
       
    
    
</footer>


        </div>
    </div>

     
<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-78918255-1', 'auto');
	ga('send', 'pageview');
</script>

    
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?9cdad07c755fa23f6aced510c6760e87";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
        })();
    </script>



    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
</body>
</html>
